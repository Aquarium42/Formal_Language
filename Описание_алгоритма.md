# Описание алгоритма Вариант 18
Дана регулярка. Дана буква x. Найти максимальную степень k, что в языке есть слова, начинающиеся с x<sup>k </sup>.
Алгоритм состоит из трех частей:

 1. Построение автомата
 2. Решение задачи
 3. Отрисовка графа

# Построение автомата
 Сохранили регулярное выражение в строку, затем будем идти по символам сначала. 
Однако прежде всего проверяем его на корректность. Если все корректно, то создаем стек, будем в нем хранить стартовую  и конечную вершину. Если встретили: 
 - **a, b, c или 1** создаем новую начальную вершину, новую конечную, делаем из начальной переход в конечную по данной букве (или "1" - пустому слову). Кладем эти вершины в стек
 - **\*** Достаем верхнюю вершину из стека, создаем новую стартовую, новую конечную вершины. Делаем переход из новой стартовой в старую стартовую по 1 и в новую конечную по 1. А из старой конечной в старую стартовую по 1 и в новую конечную по 1. Полученную пару нового начала и конца кладем в стек.
 - **.** Достаем из стека две вершины. Та, которую достали первой, при записи должна идти второй. Поэтому все переходы, которые идут из ее стартовой вершины, копируем в переходы из конечной вершины для той, что взята из стека второй.  При этом, вершина, откуда копировали переходы, нам больше не нужна, поэтому мы ее удаляем. Кладем в стек пару - стартовое для первой по порядку в записи, терминальное для второй по порядку записи
 - **+** Достаем из стека 2 вершины. Создаем новую стартовую и терминальную вершину. Делаем из стартовой переходы по пустому слову в стартовые состояния вершин, взятых со  стека. Аналогично делаем переходы по пустому слову из конечных состояний взятых со стека вершин в новое терминальное. Кладем новую пару стартового и конечного состояния на стек.
 

## Решение задачи
Dfs-ом пройдем по построенному автомату, начиная со стартовой вершины. Если вырожение корректно, то такая вершина по построению получится одна. Стартуем из нее и идем по 1 или букве x пока можем, если не можем, откатываетмся назад. Так как функция рекурсивна, храним глубину - количество x-ов. Если оно больше, чем некоторое максимальное, то обновляем максимальное. При этом, если dfs обнаружил цикл, то проверяем, есть ли в этом цикле хотя бы 1 x. Так как мы ходим только по пустому слову или x , то и цикл либо полностью из пустых слов, тогда нам это ничего не дает, либо в нем есть хотя бы одна буква x, а значит мы можем бесконечно ходить по нему и наращивать x. => Ответ INF
Когда обход в глубину закончит свою работу, мы получим искомую степень x. 
## Рисование автомата

Рисуем на питоне, используя библиотеку graphviz.
Тогда нам достаточно передать всю информацию про ребра: откуда, куда, по какой букве. Кроме того, отметим стартовое и конечное состояния.

## Подключаемые библиотеки:
graphviz
graphviz-python
collections
